const Vr=Symbol(),dr=Object.getPrototypeOf,ur=new WeakMap,Kr=t=>t&&(ur.has(t)?ur.get(t):dr(t)===Object.prototype||dr(t)===Array.prototype),Hr=t=>Kr(t)&&t[Vr]||null,mr=(t,r=!0)=>{ur.set(t,r)},sr=t=>typeof t=="object"&&t!==null,P=new WeakMap,G=new WeakSet,zr=(t=Object.is,r=(l,h)=>new Proxy(l,h),e=l=>sr(l)&&!G.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,o=(l,h,f=n)=>{const x=i.get(l);if(x?.[0]===h)return x[1];const m=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return mr(m,!0),i.set(l,[h,m]),Reflect.ownKeys(l).forEach(U=>{if(Object.getOwnPropertyDescriptor(m,U))return;const C=Reflect.get(l,U),b={value:C,enumerable:!0,configurable:!0};if(G.has(C))mr(C,!1);else if(C instanceof Promise)delete b.value,b.get=()=>f(C);else if(P.has(C)){const[F,ir]=P.get(C);b.value=o(F,ir(),f)}Object.defineProperty(m,U,b)}),m},s=new WeakMap,u=[1,1],c=l=>{if(!sr(l))throw new Error("object required");const h=s.get(l);if(h)return h;let f=u[0];const x=new Set,m=(d,w=++u[0])=>{f!==w&&(f=w,x.forEach(p=>p(d,w)))};let U=u[1];const C=(d=++u[1])=>(U!==d&&!x.size&&(U=d,F.forEach(([w])=>{const p=w[1](d);p>f&&(f=p)})),f),b=d=>(w,p)=>{const I=[...w];I[1]=[d,...I[1]],m(I,p)},F=new Map,ir=(d,w)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&F.has(d))throw new Error("prop listener already exists");if(x.size){const p=w[3](b(d));F.set(d,[w,p])}else F.set(d,[w])},wr=d=>{var w;const p=F.get(d);p&&(F.delete(d),(w=p[1])==null||w.call(p))},jr=d=>(x.add(d),x.size===1&&F.forEach(([p,I],j)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&I)throw new Error("remove already exists");const K=p[3](b(j));F.set(j,[p,K])}),()=>{x.delete(d),x.size===0&&F.forEach(([p,I],j)=>{I&&(I(),F.set(j,[p]))})}),or=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),z=r(or,{deleteProperty(d,w){const p=Reflect.get(d,w);wr(w);const I=Reflect.deleteProperty(d,w);return I&&m(["delete",[w],p]),I},set(d,w,p,I){const j=Reflect.has(d,w),K=Reflect.get(d,w,I);if(j&&(t(K,p)||s.has(p)&&t(K,s.get(p))))return!0;wr(w),sr(p)&&(p=Hr(p)||p);let J=p;if(p instanceof Promise)p.then(L=>{p.status="fulfilled",p.value=L,m(["resolve",[w],L])}).catch(L=>{p.status="rejected",p.reason=L,m(["reject",[w],L])});else{!P.has(p)&&e(p)&&(J=c(p));const L=!G.has(J)&&P.get(J);L&&ir(w,L)}return Reflect.set(d,w,J,I),m(["set",[w],p,K]),!0}});s.set(l,z);const $r=[or,C,o,jr];return P.set(z,$r),Reflect.ownKeys(l).forEach(d=>{const w=Object.getOwnPropertyDescriptor(l,d);"value"in w&&(z[d]=l[d],delete w.value,delete w.writable),Object.defineProperty(or,d,w)}),z})=>[c,P,G,t,r,e,n,i,o,s,u],[Jr]=zr();function W(t={}){return Jr(t)}function Y(t,r,e){const n=P.get(t);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const o=[],s=n[3];let u=!1;const l=s(h=>{if(o.push(h),e){r(o.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,u&&r(o.splice(0))}))});return u=!0,()=>{u=!1,l()}}function Gr(t,r){const e=P.get(t);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,i,o]=e;return o(n,i(),r)}var xr=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},B=[],R=[],Xr=typeof Uint8Array<"u"?Uint8Array:Array,fr=!1;function Cr(){fr=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=t.length;r<e;++r)B[r]=t[r],R[t.charCodeAt(r)]=r;R["-".charCodeAt(0)]=62,R["_".charCodeAt(0)]=63}function Qr(t){fr||Cr();var r,e,n,i,o,s,u=t.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=t[u-2]==="="?2:t[u-1]==="="?1:0,s=new Xr(u*3/4-o),n=o>0?u-4:u;var c=0;for(r=0,e=0;r<n;r+=4,e+=3)i=R[t.charCodeAt(r)]<<18|R[t.charCodeAt(r+1)]<<12|R[t.charCodeAt(r+2)]<<6|R[t.charCodeAt(r+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=i&255;return o===2?(i=R[t.charCodeAt(r)]<<2|R[t.charCodeAt(r+1)]>>4,s[c++]=i&255):o===1&&(i=R[t.charCodeAt(r)]<<10|R[t.charCodeAt(r+1)]<<4|R[t.charCodeAt(r+2)]>>2,s[c++]=i>>8&255,s[c++]=i&255),s}function Zr(t){return B[t>>18&63]+B[t>>12&63]+B[t>>6&63]+B[t&63]}function qr(t,r,e){for(var n,i=[],o=r;o<e;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(Zr(n));return i.join("")}function gr(t){fr||Cr();for(var r,e=t.length,n=e%3,i="",o=[],s=16383,u=0,c=e-n;u<c;u+=s)o.push(qr(t,u,u+s>c?c:u+s));return n===1?(r=t[e-1],i+=B[r>>2],i+=B[r<<4&63],i+="=="):n===2&&(r=(t[e-2]<<8)+t[e-1],i+=B[r>>10],i+=B[r>>4&63],i+=B[r<<2&63],i+="="),o.push(i),o.join("")}function rr(t,r,e,n,i){var o,s,u=i*8-n-1,c=(1<<u)-1,l=c>>1,h=-7,f=e?i-1:0,x=e?-1:1,m=t[r+f];for(f+=x,o=m&(1<<-h)-1,m>>=-h,h+=u;h>0;o=o*256+t[r+f],f+=x,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=s*256+t[r+f],f+=x,h-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-l}return(m?-1:1)*s*Math.pow(2,o-n)}function _r(t,r,e,n,i,o){var s,u,c,l=o*8-i-1,h=(1<<l)-1,f=h>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,U=n?1:-1,C=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,s=h):(s=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?r+=x/c:r+=x*Math.pow(2,1-f),r*c>=2&&(s++,c/=2),s+f>=h?(u=0,s=h):s+f>=1?(u=(r*c-1)*Math.pow(2,i),s=s+f):(u=r*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[e+m]=u&255,m+=U,u/=256,i-=8);for(s=s<<i|u,l+=i;l>0;t[e+m]=s&255,m+=U,s/=256,l-=8);t[e+m-U]|=C*128}var re={}.toString,Tr=Array.isArray||function(t){return re.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var ee=50;a.TYPED_ARRAY_SUPPORT=xr.TYPED_ARRAY_SUPPORT!==void 0?xr.TYPED_ARRAY_SUPPORT:!0;Z();function Z(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function S(t,r){if(Z()<r)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=a.prototype):(t===null&&(t=new a(r)),t.length=r),t}function a(t,r,e){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(t,r,e);if(typeof t=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return hr(this,t)}return Dr(this,t,r,e)}a.poolSize=8192;a._augment=function(t){return t.__proto__=a.prototype,t};function Dr(t,r,e,n){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?ie(t,r,e,n):typeof r=="string"?ne(t,r,e):oe(t,r)}a.from=function(t,r,e){return Dr(null,t,r,e)};a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]);function Br(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function te(t,r,e,n){return Br(r),r<=0?S(t,r):e!==void 0?typeof n=="string"?S(t,r).fill(e,n):S(t,r).fill(e):S(t,r)}a.alloc=function(t,r,e){return te(null,t,r,e)};function hr(t,r){if(Br(r),t=S(t,r<0?0:pr(r)|0),!a.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}a.allocUnsafe=function(t){return hr(null,t)};a.allocUnsafeSlow=function(t){return hr(null,t)};function ne(t,r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!a.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=Mr(r,e)|0;t=S(t,n);var i=t.write(r,e);return i!==n&&(t=t.slice(0,i)),t}function lr(t,r){var e=r.length<0?0:pr(r.length)|0;t=S(t,e);for(var n=0;n<e;n+=1)t[n]=r[n]&255;return t}function ie(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?r=new Uint8Array(r):n===void 0?r=new Uint8Array(r,e):r=new Uint8Array(r,e,n),a.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=a.prototype):t=lr(t,r),t}function oe(t,r){if(M(r)){var e=pr(r.length)|0;return t=S(t,e),t.length===0||r.copy(t,0,0,e),t}if(r){if(typeof ArrayBuffer<"u"&&r.buffer instanceof ArrayBuffer||"length"in r)return typeof r.length!="number"||Ue(r.length)?S(t,0):lr(t,r);if(r.type==="Buffer"&&Tr(r.data))return lr(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function pr(t){if(t>=Z())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Z().toString(16)+" bytes");return t|0}a.isBuffer=Fe;function M(t){return!!(t!=null&&t._isBuffer)}a.compare=function(r,e){if(!M(r)||!M(e))throw new TypeError("Arguments must be Buffers");if(r===e)return 0;for(var n=r.length,i=e.length,o=0,s=Math.min(n,i);o<s;++o)if(r[o]!==e[o]){n=r[o],i=e[o];break}return n<i?-1:i<n?1:0};a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};a.concat=function(r,e){if(!Tr(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return a.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var i=a.allocUnsafe(e),o=0;for(n=0;n<r.length;++n){var s=r[n];if(!M(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i};function Mr(t,r){if(M(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;if(e===0)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return kr(t).length;default:if(n)return q(t).length;r=(""+r).toLowerCase(),n=!0}}a.byteLength=Mr;function se(t,r,e){var n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,r>>>=0,e<=r))return"";for(t||(t="utf8");;)switch(t){case"hex":return me(this,r,e);case"utf8":case"utf-8":return Pr(this,r,e);case"ascii":return we(this,r,e);case"latin1":case"binary":return de(this,r,e);case"base64":return he(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}a.prototype._isBuffer=!0;function N(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}a.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)N(this,e,e+1);return this};a.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)N(this,e,e+3),N(this,e+1,e+2);return this};a.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)N(this,e,e+7),N(this,e+1,e+6),N(this,e+2,e+5),N(this,e+3,e+4);return this};a.prototype.toString=function(){var r=this.length|0;return r===0?"":arguments.length===0?Pr(this,0,r):se.apply(this,arguments)};a.prototype.equals=function(r){if(!M(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:a.compare(this,r)===0};a.prototype.inspect=function(){var r="",e=ee;return this.length>0&&(r=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(r+=" ... ")),"<Buffer "+r+">"};a.prototype.compare=function(r,e,n,i,o){if(!M(r))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=r?r.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>r.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===r)return 0;for(var s=o-i,u=n-e,c=Math.min(s,u),l=this.slice(i,o),h=r.slice(e,n),f=0;f<c;++f)if(l[f]!==h[f]){s=l[f],u=h[f];break}return s<u?-1:u<s?1:0};function Sr(t,r,e,n,i){if(t.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof r=="string"&&(r=a.from(r,n)),M(r))return r.length===0?-1:Er(t,r,e,n,i);if(typeof r=="number")return r=r&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):Er(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Er(t,r,e,n,i){var o=1,s=t.length,u=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||r.length<2)return-1;o=2,s/=2,u/=2,e/=2}function c(m,U){return o===1?m[U]:m.readUInt16BE(U*o)}var l;if(i){var h=-1;for(l=e;l<s;l++)if(c(t,l)===c(r,h===-1?0:l-h)){if(h===-1&&(h=l),l-h+1===u)return h*o}else h!==-1&&(l-=l-h),h=-1}else for(e+u>s&&(e=s-u),l=e;l>=0;l--){for(var f=!0,x=0;x<u;x++)if(c(t,l+x)!==c(r,x)){f=!1;break}if(f)return l}return-1}a.prototype.includes=function(r,e,n){return this.indexOf(r,e,n)!==-1};a.prototype.indexOf=function(r,e,n){return Sr(this,r,e,n,!0)};a.prototype.lastIndexOf=function(r,e,n){return Sr(this,r,e,n,!1)};function ae(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=r.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var u=parseInt(r.substr(s*2,2),16);if(isNaN(u))return s;t[e+s]=u}return s}function ue(t,r,e,n){return nr(q(r,t.length-e),t,e,n)}function Lr(t,r,e,n){return nr(Ie(r),t,e,n)}function le(t,r,e,n){return Lr(t,r,e,n)}function ce(t,r,e,n){return nr(kr(r),t,e,n)}function fe(t,r,e,n){return nr(ve(r,t.length-e),t,e,n)}a.prototype.write=function(r,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),r.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return ae(this,r,e,n);case"utf8":case"utf-8":return ue(this,r,e,n);case"ascii":return Lr(this,r,e,n);case"latin1":case"binary":return le(this,r,e,n);case"base64":return ce(this,r,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,r,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(t,r,e){return r===0&&e===t.length?gr(t):gr(t.slice(r,e))}function Pr(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o=t[i],s=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=e){var c,l,h,f;switch(u){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(f=(o&31)<<6|c&63,f>127&&(s=f));break;case 3:c=t[i+1],l=t[i+2],(c&192)===128&&(l&192)===128&&(f=(o&15)<<12|(c&63)<<6|l&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=t[i+1],l=t[i+2],h=t[i+3],(c&192)===128&&(l&192)===128&&(h&192)===128&&(f=(o&15)<<18|(c&63)<<12|(l&63)<<6|h&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,u=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=u}return pe(n)}var yr=4096;function pe(t){var r=t.length;if(r<=yr)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=yr));return e}function we(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]&127);return n}function de(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function me(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Ae(t[o]);return i}function xe(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}a.prototype.slice=function(r,e){var n=this.length;r=~~r,e=e===void 0?n:~~e,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<r&&(e=r);var i;if(a.TYPED_ARRAY_SUPPORT)i=this.subarray(r,e),i.__proto__=a.prototype;else{var o=e-r;i=new a(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+r]}return i};function E(t,r,e){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(r,e,n){r=r|0,e=e|0,n||E(r,e,this.length);for(var i=this[r],o=1,s=0;++s<e&&(o*=256);)i+=this[r+s]*o;return i};a.prototype.readUIntBE=function(r,e,n){r=r|0,e=e|0,n||E(r,e,this.length);for(var i=this[r+--e],o=1;e>0&&(o*=256);)i+=this[r+--e]*o;return i};a.prototype.readUInt8=function(r,e){return e||E(r,1,this.length),this[r]};a.prototype.readUInt16LE=function(r,e){return e||E(r,2,this.length),this[r]|this[r+1]<<8};a.prototype.readUInt16BE=function(r,e){return e||E(r,2,this.length),this[r]<<8|this[r+1]};a.prototype.readUInt32LE=function(r,e){return e||E(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};a.prototype.readUInt32BE=function(r,e){return e||E(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};a.prototype.readIntLE=function(r,e,n){r=r|0,e=e|0,n||E(r,e,this.length);for(var i=this[r],o=1,s=0;++s<e&&(o*=256);)i+=this[r+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};a.prototype.readIntBE=function(r,e,n){r=r|0,e=e|0,n||E(r,e,this.length);for(var i=e,o=1,s=this[r+--i];i>0&&(o*=256);)s+=this[r+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*e)),s};a.prototype.readInt8=function(r,e){return e||E(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};a.prototype.readInt16LE=function(r,e){e||E(r,2,this.length);var n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};a.prototype.readInt16BE=function(r,e){e||E(r,2,this.length);var n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};a.prototype.readInt32LE=function(r,e){return e||E(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};a.prototype.readInt32BE=function(r,e){return e||E(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};a.prototype.readFloatLE=function(r,e){return e||E(r,4,this.length),rr(this,r,!0,23,4)};a.prototype.readFloatBE=function(r,e){return e||E(r,4,this.length),rr(this,r,!1,23,4)};a.prototype.readDoubleLE=function(r,e){return e||E(r,8,this.length),rr(this,r,!0,52,8)};a.prototype.readDoubleBE=function(r,e){return e||E(r,8,this.length),rr(this,r,!1,52,8)};function v(t,r,e,n,i,o){if(!M(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(r,e,n,i){if(r=+r,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;v(this,r,e,n,o,0)}var s=1,u=0;for(this[e]=r&255;++u<n&&(s*=256);)this[e+u]=r/s&255;return e+n};a.prototype.writeUIntBE=function(r,e,n,i){if(r=+r,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;v(this,r,e,n,o,0)}var s=n-1,u=1;for(this[e+s]=r&255;--s>=0&&(u*=256);)this[e+s]=r/u&255;return e+n};a.prototype.writeUInt8=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=r&255,e+1};function er(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}a.prototype.writeUInt16LE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=r&255,this[e+1]=r>>>8):er(this,r,e,!0),e+2};a.prototype.writeUInt16BE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=r&255):er(this,r,e,!1),e+2};function tr(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>(n?i:3-i)*8&255}a.prototype.writeUInt32LE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255):tr(this,r,e,!0),e+4};a.prototype.writeUInt32BE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255):tr(this,r,e,!1),e+4};a.prototype.writeIntLE=function(r,e,n,i){if(r=+r,e=e|0,!i){var o=Math.pow(2,8*n-1);v(this,r,e,n,o-1,-o)}var s=0,u=1,c=0;for(this[e]=r&255;++s<n&&(u*=256);)r<0&&c===0&&this[e+s-1]!==0&&(c=1),this[e+s]=(r/u>>0)-c&255;return e+n};a.prototype.writeIntBE=function(r,e,n,i){if(r=+r,e=e|0,!i){var o=Math.pow(2,8*n-1);v(this,r,e,n,o-1,-o)}var s=n-1,u=1,c=0;for(this[e+s]=r&255;--s>=0&&(u*=256);)r<0&&c===0&&this[e+s+1]!==0&&(c=1),this[e+s]=(r/u>>0)-c&255;return e+n};a.prototype.writeInt8=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[e]=r&255,e+1};a.prototype.writeInt16LE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=r&255,this[e+1]=r>>>8):er(this,r,e,!0),e+2};a.prototype.writeInt16BE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=r&255):er(this,r,e,!1),e+2};a.prototype.writeInt32LE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):tr(this,r,e,!0),e+4};a.prototype.writeInt32BE=function(r,e,n){return r=+r,e=e|0,n||v(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),a.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255):tr(this,r,e,!1),e+4};function Wr(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function br(t,r,e,n,i){return i||Wr(t,r,e,4),_r(t,r,e,n,23,4),e+4}a.prototype.writeFloatLE=function(r,e,n){return br(this,r,e,!0,n)};a.prototype.writeFloatBE=function(r,e,n){return br(this,r,e,!1,n)};function Or(t,r,e,n,i){return i||Wr(t,r,e,8),_r(t,r,e,n,52,8),e+8}a.prototype.writeDoubleLE=function(r,e,n){return Or(this,r,e,!0,n)};a.prototype.writeDoubleBE=function(r,e,n){return Or(this,r,e,!1,n)};a.prototype.copy=function(r,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=r.length&&(e=r.length),e||(e=0),i>0&&i<n&&(i=n),i===n||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-e<i-n&&(i=r.length-e+n);var o=i-n,s;if(this===r&&n<e&&e<i)for(s=o-1;s>=0;--s)r[s+e]=this[s+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)r[s+e]=this[s+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+o),e);return o};a.prototype.fill=function(r,e,n,i){if(typeof r=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),r.length===1){var o=r.charCodeAt(0);o<256&&(r=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof r=="number"&&(r=r&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);var s;if(typeof r=="number")for(s=e;s<n;++s)this[s]=r;else{var u=M(r)?r:q(new a(r,i).toString()),c=u.length;for(s=0;s<n-e;++s)this[s+e]=u[s%c]}return this};var ge=/[^+\/0-9A-Za-z-_]/g;function Ee(t){if(t=ye(t).replace(ge,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function ye(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Ae(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,r){r=r||1/0;for(var e,n=t.length,i=null,o=[],s=0;s<n;++s){if(e=t.charCodeAt(s),e>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Ie(t){for(var r=[],e=0;e<t.length;++e)r.push(t.charCodeAt(e)&255);return r}function ve(t,r){for(var e,n,i,o=[],s=0;s<t.length&&!((r-=2)<0);++s)e=t.charCodeAt(s),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function kr(t){return Qr(Ee(t))}function nr(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function Ue(t){return t!==t}function Fe(t){return t!=null&&(!!t._isBuffer||Nr(t)||Re(t))}function Nr(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Re(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Nr(t.slice(0,0))}const g=W({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),Yr={state:g,subscribe(t){return Y(g,()=>t(g))},push(t,r){t!==g.view&&(g.view=t,r&&(g.data=r),g.history.push(t))},reset(t){g.view=t,g.history=[t]},replace(t){g.history.length>1&&(g.history[g.history.length-1]=t,g.view=t)},goBack(){if(g.history.length>1){g.history.pop();const[t]=g.history.slice(-1);g.view=t}},setData(t){g.data=t}},A={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return A.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const t=navigator.userAgent.toLowerCase();return A.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},isArray(t){return Array.isArray(t)&&t.length>0},formatNativeUrl(t,r,e){if(A.isHttpUrl(t))return this.formatUniversalUrl(t,r,e);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,e);const i=encodeURIComponent(r);return`${n}wc?uri=${i}`},formatUniversalUrl(t,r,e){if(!A.isHttpUrl(t))return this.formatNativeUrl(t,r,e);let n=t;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,e);const i=encodeURIComponent(r);return`${n}wc?uri=${i}`},async wait(t){return new Promise(r=>{setTimeout(r,t)})},openHref(t,r){window.open(t,r,"noreferrer noopener")},setWalletConnectDeepLink(t,r){try{localStorage.setItem(A.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:r}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[r]=t.split("?");localStorage.setItem(A.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(A.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(A.WCM_VERSION,"2.5.9")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const r=(t=Yr.state.data)==null?void 0:t.Wallet;if(!r)throw new Error('Missing "Wallet" view data');return r}},Ce=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),y=W({enabled:Ce,userSessionId:"",events:[],connectedWalletId:void 0}),_e={state:y,subscribe(t){return Y(y.events,()=>t(Gr(y.events[y.events.length-1])))},initialize(){y.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(y.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){y.connectedWalletId=t},click(t){if(y.enabled){const r={type:"CLICK",name:t.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:t};y.events.push(r)}},track(t){if(y.enabled){const r={type:"TRACK",name:t.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:t};y.events.push(r)}},view(t){if(y.enabled){const r={type:"VIEW",name:t.name,userSessionId:y.userSessionId,timestamp:Date.now(),data:t};y.events.push(r)}}},T=W({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),_={state:T,subscribe(t){return Y(T,()=>t(T))},setChains(t){T.chains=t},setWalletConnectUri(t){T.walletConnectUri=t},setIsCustomDesktop(t){T.isCustomDesktop=t},setIsCustomMobile(t){T.isCustomMobile=t},setIsDataLoaded(t){T.isDataLoaded=t},setIsUiLoaded(t){T.isUiLoaded=t},setIsAuth(t){T.isAuth=t}},X=W({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),V={state:X,subscribe(t){return Y(X,()=>t(X))},setConfig(t){var r,e;_e.initialize(),_.setChains(t.chains),_.setIsAuth(Boolean(t.enableAuthMode)),_.setIsCustomMobile(Boolean((r=t.mobileWallets)==null?void 0:r.length)),_.setIsCustomDesktop(Boolean((e=t.desktopWallets)==null?void 0:e.length)),A.setModalVersionInStorage(),Object.assign(X,t)}},cr="https://explorer-api.walletconnect.com";async function Q(t,r){const e=new URL(t,cr);return e.searchParams.append("projectId",V.state.projectId),Object.entries(r).forEach(([n,i])=>{i&&e.searchParams.append(n,String(i))}),(await fetch(e)).json()}const O={async getDesktopListings(t){return Q("/w3m/v1/getDesktopListings",t)},async getMobileListings(t){return Q("/w3m/v1/getMobileListings",t)},async getInjectedListings(t){return Q("/w3m/v1/getInjectedListings",t)},async getAllListings(t){return Q("/w3m/v1/getAllListings",t)},getWalletImageUrl(t){return`${cr}/w3m/v1/getWalletImage/${t}?projectId=${V.state.projectId}`},getAssetImageUrl(t){return`${cr}/w3m/v1/getAssetImage/${t}?projectId=${V.state.projectId}`}};var Te=Object.defineProperty,Ar=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Ir=(t,r,e)=>r in t?Te(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,Me=(t,r)=>{for(var e in r||(r={}))De.call(r,e)&&Ir(t,e,r[e]);if(Ar)for(var e of Ar(r))Be.call(r,e)&&Ir(t,e,r[e]);return t};const vr=A.isMobile(),D=W({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),ke={state:D,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:r}=V.state;if(t==="NONE"||r==="ALL"&&!t)return D.recomendedWallets;if(A.isArray(t)){const e={recommendedIds:t.join(",")},{listings:n}=await O.getAllListings(e),i=Object.values(n);i.sort((o,s)=>{const u=t.indexOf(o.id),c=t.indexOf(s.id);return u-c}),D.recomendedWallets=i}else{const{chains:e,isAuth:n}=_.state,i=e?.join(","),o=A.isArray(r),s={page:1,sdks:n?"auth_v1":void 0,entries:A.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:o?r.join(","):void 0},{listings:u}=vr?await O.getMobileListings(s):await O.getDesktopListings(s);D.recomendedWallets=Object.values(u)}return D.recomendedWallets},async getWallets(t){const r=Me({},t),{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:n}=V.state,{recomendedWallets:i}=D;if(n==="ALL")return D.wallets;i.length?r.excludedIds=i.map(f=>f.id).join(","):A.isArray(e)&&(r.excludedIds=e.join(",")),A.isArray(n)&&(r.excludedIds=[r.excludedIds,n].filter(Boolean).join(",")),_.state.isAuth&&(r.sdks="auth_v1");const{page:o,search:s}=t,{listings:u,total:c}=vr?await O.getMobileListings(r):await O.getDesktopListings(r),l=Object.values(u),h=s?"search":"wallets";return D[h]={listings:[...D[h].listings,...l],total:c,page:o??1},{listings:l,total:c}},getWalletImageUrl(t){return O.getWalletImageUrl(t)},getAssetImageUrl(t){return O.getAssetImageUrl(t)},resetSearch(){D.search={listings:[],total:0,page:1}}},$=W({open:!1}),ar={state:$,subscribe(t){return Y($,()=>t($))},async open(t){return new Promise(r=>{const{isUiLoaded:e,isDataLoaded:n}=_.state;if(_.setWalletConnectUri(t?.uri),_.setChains(t?.chains),Yr.reset("ConnectWallet"),e&&n)$.open=!0,r();else{const i=setInterval(()=>{const o=_.state;o.isUiLoaded&&o.isDataLoaded&&(clearInterval(i),$.open=!0,r())},200)}})},close(){$.open=!1}};var Se=Object.defineProperty,Ur=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,Fr=(t,r,e)=>r in t?Se(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,We=(t,r)=>{for(var e in r||(r={}))Le.call(r,e)&&Fr(t,e,r[e]);if(Ur)for(var e of Ur(r))Pe.call(r,e)&&Fr(t,e,r[e]);return t};function be(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const H=W({themeMode:be()?"dark":"light"}),Rr={state:H,subscribe(t){return Y(H,()=>t(H))},setThemeConfig(t){const{themeMode:r,themeVariables:e}=t;r&&(H.themeMode=r),e&&(H.themeVariables=We({},e))}},k=W({open:!1,message:"",variant:"success"}),Ne={state:k,subscribe(t){return Y(k,()=>t(k))},openToast(t,r){k.open=!0,k.message=t,k.variant=r},closeToast(){k.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=a),window.global||(window.global=window),window.process||(window.process={env:{}}),window.global||(window.global=window));class Ye{constructor(r){this.openModal=ar.open,this.closeModal=ar.close,this.subscribeModal=ar.subscribe,this.setTheme=Rr.setThemeConfig,Rr.setThemeConfig(r),V.setConfig(r),this.initUi()}async initUi(){if(typeof window<"u"){await import("./index-9570c492.js");const r=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",r),_.setIsUiLoaded(!0)}}}export{Yr as E,ke as H,_e as S,ar as V,Ye as W,Rr as X,Ne as Y,A as i,_ as l,V as v};
//# sourceMappingURL=bundle-866bb761.js.map
